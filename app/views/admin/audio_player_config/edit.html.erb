<% include_stylesheet 'admin/audio_player/audio' %>
<% include_javascript 'audio_player/audio-player' %>

<% include_javascript 'admin/audio_player/jquery' %>
<% include_javascript 'admin/audio_player/farbtastic' %>
<% include_stylesheet 'admin/audio_player/farbtastic' %>


<script type="text/javascript" charset="utf-8">
  // $(document).ready(function() {
  //   $('#colorpicker').farbtastic('#color');
  // });
  $(document).ready(function() {
    $('#demo').hide();
    var f = $.farbtastic('#picker');
    var p = $('#picker').css('opacity', 0.25);
    var selected;
    $('.colorwell')
      .each(function () { f.linkTo(this); $(this).css('opacity', 0.75); })
      .focus(function() {
        if (selected) {
          $(selected).css('opacity', 0.75).removeClass('colorwell-selected');
        }
        f.linkTo(this);
        p.css('opacity', 1);
        $(selected = this).css('opacity', 1).addClass('colorwell-selected');
      });
  });
</script>


<% if @audio_player_config.new_record? %>
  <h1>New audio player</h1>
<% else %>
  <h1>Edit: <%= @audio_player_config.name %></h1>
<% end %>

<% form_for :audio_player_config do |f| %>
  <div class="form-area">
    <div id="audio_player_config_form_area">
      
      <div id="picker"></div>
      
      <p>
        <label for="audio_player_config_bg">bg</label>
        <%= f.text_field "bg", :id => "color", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        <label for="audio_player_config_leftbg">leftbg</label>
        <%= f.text_field "leftbg", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        <label for="audio_player_config_lefticon">lefticon</label>
        <%= f.text_field "lefticon", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        <label for="audio_player_config_rightbg">rightbg</label>
        <%= f.text_field "rightbg", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        <label for="audio_player_config_rightbghover">rightbghover</label>
        <%= f.text_field "rightbghover", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        <label for="audio_player_config_righticon">righticon</label>
        <%= f.text_field "righticon", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        <label for="audio_player_config_righticonhover">righticonhover</label>
        <%= f.text_field "righticonhover", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        <label for="audio_player_config_text">text</label>
        <%= f.text_field "text", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        <label for="audio_player_config_slider">slider</label>
        <%= f.text_field "slider", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        <label for="audio_player_config_track">track</label>
        <%= f.text_field "track", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        <label for="audio_player_config_border">border</label>
        <%= f.text_field "border", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        <label for="audio_player_config_loader">loader</label>
        <%= f.text_field "loader", :class => 'textbox colorwell', :maxlength => 10 %>
      </p>
      <p>
        Loop:
        <%= f.radio_button "loop", "no" %>
        <label for="audio_player_config_loop_no">no</label>
        <%= f.radio_button "loop", "yes" %>
        <label for="audio_player_config_loop_yes">yes</label>
        <%# TODO: make radio button selected in db state %>
      </p>
      <p>
        Autostart:
        <%= f.radio_button "autostart", "no" %>
        <label for="audio_player_config_autostart_no">no</label>
        <%= f.radio_button "autostart", "yes" %>
        <label for="audio_player_config_autostart_yes">yes</label>
        <%# TODO: make radio button selected in db state %>
      </p>
    </div>
  </div>
  
  <p class="buttons">
    <%= save_model_button(@audio_player_config) %>
    <%= save_model_and_continue_editing_button(@audio_player_config) %>
    or 
    <%= link_to "Cancel", {:action => :index} %>
  </p>
<% end -%>


<pre><code>
# loop: "no"
# autostart: "no"
</code></pre>